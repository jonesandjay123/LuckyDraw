<!DOCTYPE html>

<html>
<head>
  <meta charset=utf-8 />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>開獎頁面</title>

  <!-- Material Design Theming -->
  <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.orange-indigo.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>

  <link rel="stylesheet" href="main.css">
  <style>
  canvas{
    position: absolute;
    border: 1px solid #aaa;
    border-radius: 15px;
    background: #111;
    /* height: 250px;
    width: 400px; */
    height: 300px;
    width: 580px;
    left: 0;
    top: 0px;
  }

  #executeDrawing {
    padding: 15px 25px;
    font-size: 24px;
    text-align: center;
    cursor: pointer;
    outline: none;
    color: #fff;
    background-color: #ff6600;
    border: none;
    border-radius: 15px;
    box-shadow: 0 9px #999;
  }

  #executeDrawing:hover {background-color: #e65c00}

  #executeDrawing:active {
    background-color: #ff0000;
    box-shadow: 0 5px #666;
    transform: translateY(4px);
  }

  .scrollit {
    overflow:scroll;
    width: 565px;
    height:100vh;
  }
  </style>


 <!-- 讀Excel相關的引用 -->
 <script lang="javascript" src="dist/jszip.js"></script>
 <script lang="javascript" src="dist/xlsx.js"></script>

  <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase.js"></script>
  <script src="init.js"></script>
  <script src="firebaseCRUDandExcel.js"></script>
  <script src="logic.js"></script>

  <script type="text/javascript">
    window.onload = function() {
      initApp();
      getListFromDB();
      displayWindowSize(); //寬度偵測
    };
    window.onresize = displayWindowSize;  //寬度改變時也要偵測寬度

    //偵測寬度的事件
    function displayWindowSize() {
        myWidth = window.innerWidth;
        if(myWidth <= 960){
          var nFilter = document.getElementById('resultArea');
          nFilter.style.paddingTop  = "230px";
        }
    };



  </script>
</head>
<body>
<div class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-header">

  <!-- Header section containing title -->
  <header class="mdl-layout__header mdl-color-text--white mdl-color--light-blue-700">
    <div class="mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-grid">
      <div class="mdl-layout__header-row mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-cell--8-col-desktop">
        <a href="/"><h3>尾牙抽獎系統</h3></a>
      </div>

      <form action="index.html">
          <input type="submit" value="管理員模式" style="position: absolute; right: 0;" />
      </form>
    </div>
  </header>

  <main class="mdl-layout__content mdl-color--grey-100">
    <div class="mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-grid">

      <!-- Container for the demo -->
      <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-cell--12-col-desktop">
        <!-- <div class="mdl-card__title mdl-color--light-blue-600 mdl-color-text--white">
          <h2 class="mdl-card__title-text">開獎頁面</h2>
        </div> -->

        <canvas></canvas>
        <br><br>
        <div class="mdl-card__supporting-text mdl-color-text--grey-600">
          <p id="updateNote">匯入的excel檔，人員清單活頁簿名稱必須要叫做:工作表</p>

          <div id="resultArea" style="float: right">

            <button  id="executeDrawing" onclick="drawForWinner()">抽獎</button>
            <br>

            <h5>中獎清單</h5>
            <table id="winnerTable" style="padding-right: 50px;">
              <tr>
                <th>獎項:</th>
                <th>工號:</th>
                <th>姓名:</th>
                <th>-</th>
              </tr>
            </table>
          </div>

          <br><br><br><br><br><br><br><br><br>

          <!-- Container where we'll display the user details -->
          <div class="quickstart-user-details-container scrollit">
            資料庫連線狀態: <span id="connection-status">Unknown</span>
            <br>
            <!-- <pre><code> -->

              <table id="nameTable" style="display: inline">
                <tr>
                  <th>工號:</th>
                  <th>姓名:</th>
                  <th>中獎:</th>
                </tr>
              </table>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <!-- <div class="scrollit"> -->
              <table id="priceTable" style="display: inline">
                <tr>
                  <th>序號:</th>
                  <th>中獎:</th>
                  <th>中獎工號:</th>
                  <th>中獎人:</th>
                </tr>
              </table>
              <!-- </div> -->
            <!-- </code></pre> -->
          </div>






        </div>
      </div>

    </div>
  </main>
</div>
</body>
</html>
